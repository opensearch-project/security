---
_meta:
  type: "whitelist"
  config_version: 2

# Description:
# whitelisting_enabled - feature flag.
# if whitelisting_enabled is false, the whitelisting feature is removed.
# This is like removing the check that checks if an API is whitelisted.
# This is equivalent to continuing with the usual access control checks, and removing all the code that implements whitelisting.
# if whitelisting_enabled is true, then all users except SuperAdmin can access only the APIs in whitelistedAPIs
# SuperAdmin can access all APIs.
# SuperAdmin is defined by the SuperAdmin certificate, which is configured in the elasticsearch.yml setting: opendistro_security.authcz.admin_dn:
# Refer to the example setting in elasticsearch.yml.example, and the opendistro documentation to know more about configuring SuperAdmin.
#
# whitelisted_APIs - map of whitelisted endpoints, and the whitelisted HTTP requests for those endpoints

# Examples showing how to configure this yml file (make sure the _meta data from above is also there):
# Example 1:
# To enable whitelisting and whitelist GET /_cluster/settings
#
#whitelisting_settings:
#  whitelisting_enabled: true
#  whitelisted_APIs:
#    /_cluster/settings:
#      - GET
#
# Example 2:
# If you want to whitelist multiple request methods for /_cluster/settings (GET,PUT):
#
#whitelisting_settings:
#  whitelisting_enabled: true
#  whitelisted_APIs:
#    /_cluster/settings:
#      - GET
#      - PUT
#
# Example 3:
# If you want to whitelist other APIs as well, for example GET /_cat/nodes, and GET /_cat/shards:
#
#whitelisting_settings:
#  whitelisting_enabled: true
#  whitelisted_APIs:
#    /_cluster/settings:
#      - GET
#      - PUT
#    /_cat/nodes:
#      - GET
#    /_cat/shards:
#      - GET
#
# Example 4:
# If you want to disable the whitelisting feature, set whitelisting_enabled to false.
#  whitelisting_enabled: false
#  whitelisted_APIs:
#    /_cluster/settings:
#      - GET
#
#At this point, all APIs become whitelisted because the feature to whitelist is off, so whitelisted_APIs is irrelevant.


#this name must be whitelisting_settings
whitelisting_settings:
  whitelisting_enabled: false
  whitelisted_APIs:
    /_cluster/settings:
      - GET
    /_cat/nodes:
      - GET



